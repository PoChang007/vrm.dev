<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.3" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Runtime Importer | VRM</title><meta property="og:title" content="Runtime Importer" />
<meta property="og:description" content="Version 0.77~ DisposeOnGameObjectDestroyed ImporterContext API has been modified. The function ImporterContext.DisposeOnGameObjectDestroyed introduced in Version 0.68 has been discarded. Instead, ImporterContext.Load and RuntimeGltfInstance are used in v0.77. In addition, ImporterContext&#39;s members have been moved to RuntimeGltfInstance: Root EnableUpdateWhenOffscreen() ShowMeshes() To destroy the Importer, use ImporterContext.Dispose after Load is called. By destroying RuntimeGltfInstance, the resources associated with the RuntimeGltfInstance (Texture, Material, Mesh, etc) will be destroyed. using UniGLTF; using UnityEngine; namespace VRM.Samples" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vrm.dev/en/docs/univrm/programming/runtime_import/" />
<meta property="og:image" content="https://vrm.dev/images/vrm/card.png"/>
<meta property="article:published_time" content="2021-06-25T18:15:46+09:00" />
<meta property="article:modified_time" content="2021-06-25T18:15:46+09:00" /><meta property="og:site_name" content="VRM" />
<meta itemprop="name" content="Runtime Importer">
<meta itemprop="description" content="Version 0.77~ DisposeOnGameObjectDestroyed ImporterContext API has been modified. The function ImporterContext.DisposeOnGameObjectDestroyed introduced in Version 0.68 has been discarded. Instead, ImporterContext.Load and RuntimeGltfInstance are used in v0.77. In addition, ImporterContext&#39;s members have been moved to RuntimeGltfInstance: Root EnableUpdateWhenOffscreen() ShowMeshes() To destroy the Importer, use ImporterContext.Dispose after Load is called. By destroying RuntimeGltfInstance, the resources associated with the RuntimeGltfInstance (Texture, Material, Mesh, etc) will be destroyed. using UniGLTF; using UnityEngine; namespace VRM.Samples">
<meta itemprop="dateModified" content="2021-06-25T18:15:46+09:00" />
<meta itemprop="wordCount" content="1507">
<meta itemprop="image" content="https://vrm.dev/images/vrm/card.png"/>



<meta itemprop="keywords" content="api," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://vrm.dev/images/vrm/card.png"/>

<meta name="twitter:title" content="Runtime Importer"/>
<meta name="twitter:description" content="Version 0.77~ DisposeOnGameObjectDestroyed ImporterContext API has been modified. The function ImporterContext.DisposeOnGameObjectDestroyed introduced in Version 0.68 has been discarded. Instead, ImporterContext.Load and RuntimeGltfInstance are used in v0.77. In addition, ImporterContext&#39;s members have been moved to RuntimeGltfInstance: Root EnableUpdateWhenOffscreen() ShowMeshes() To destroy the Importer, use ImporterContext.Dispose after Load is called. By destroying RuntimeGltfInstance, the resources associated with the RuntimeGltfInstance (Texture, Material, Mesh, etc) will be destroyed. using UniGLTF; using UnityEngine; namespace VRM.Samples"/>





<link rel="preload" href="/scss/main.min.24829a35149cd5c25b2efa2f5bc966e80038fb11a49435a5fd8abf1966b4b32a.css" as="style">
<link href="/scss/main.min.24829a35149cd5c25b2efa2f5bc966e80038fb11a49435a5fd8abf1966b4b32a.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>



  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
    <a class="navbar-brand" href="/en/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">VRM</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto flex-grow-1" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mx-auto mb-1 mb-lg-0">
				
				
				
				
				
				
                <a class="nav-link" href="/en/vrm/" ><span>About VRM</span>
                                                        
                </a>
			</li>
			
			<li class="nav-item mx-auto mb-1 mb-lg-0">
				
				
				
				
                <a class="nav-link" href="https://github.com/vrm-c/vrm-specification/tree/master/specification" target="_blank" ><span>VRM's Technical Specs</span>
                    <i class='fas fa-external-link-alt'></i>                                    
                </a>
			</li>
			
			<li class="nav-item mx-auto mb-1 mb-lg-0">
				
				
				
				
                <a class="nav-link" href="https://vrm-consortium.org/" target="_blank" ><span>VRM Consortium</span>
                    <i class='fas fa-external-link-alt'></i>                                    
                </a>
			</li>
			
			<li class="nav-item mx-auto mb-1 mb-lg-0">
				
				
				
				
                <a class="nav-link" href="https://github.com/vrm-c/UniVRM/releases" target="_blank" ><span>Download <i class='fab fa-github fa-lg fa-fw'></i></span>
                    <i class='fas fa-external-link-alt'></i>                                    
                </a>
			</li>
			
			<li class="nav-item mx-auto mb-1 mb-lg-0">
				
				
				
				
				
				
                <a class="nav-link active" href="/en/docs/univrm/" ><span class="active">UniVRM Manual</span>
                                                        
                </a>
			</li>
			
			<li class="nav-item mx-auto mb-1 mb-lg-0">
				
				
				
				
				
				
                <a class="nav-link" href="/en/map/" ><span>SiteMap</span>
                                                        
                </a>
			</li>
			
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs/univrm/programming/runtime_import/">Japanese</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs/univrm/programming/runtime_import/">Japanese</a>
	
</div>
    </div>
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder-open fa-fw"></i>
        
        Documentation
    </a>
  </li>
  <ul>
    <li class="collapse show" id="endocs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/vrm/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        About VRM
    </a>
  </li>
  <ul>
    <li class="collapse " id="envrm">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-envrm_about" href="/en/vrm_about/">
          <i class="fas fa-file fa-fw"></i>
          What is “VRM”? What can VRM do?
      </a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/how_to_make_vrm/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        How to make VRM file
    </a>
  </li>
  <ul>
    <li class="collapse " id="enhow_to_make_vrm">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsvrmhow_to_make_vrmsetup_unity" href="/en/docs/vrm/how_to_make_vrm/setup_unity/">
          <i class="fas fa-file fa-fw"></i>
          0. Create a Unity project and install UniVRM
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-enhow_to_make_vrmconvert_from_humanoid_model" href="/en/how_to_make_vrm/convert_from_humanoid_model/">
          <i class="fas fa-file fa-fw"></i>
          1. Create VRM from Humanoid 3D Models
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-enhow_to_make_vrmsetup_vrm" href="/en/how_to_make_vrm/setup_vrm/">
          <i class="fas fa-file fa-fw"></i>
          2. Set up VRM
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-enhow_to_make_vrmvrm_behavior_confirmation" href="/en/how_to_make_vrm/vrm_behavior_confirmation/">
          <i class="fas fa-file fa-fw"></i>
          Check Your VRM in Play Mode
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-enhow_to_view_vrm" href="/en/how_to_view_vrm/">
          <i class="fas fa-file fa-fw"></i>
          Import VRM into Viewer
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-envrm_applications" href="/en/vrm_applications/">
          <i class="fas fa-file fa-fw"></i>
          VRM applications
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsvrmvrm_meta" href="/en/docs/vrm/vrm_meta/">
          <i class="fas fa-file fa-fw"></i>
          License settings in VRM
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsvrmvrm_development" href="/en/docs/vrm/vrm_development/">
          <i class="fas fa-file fa-fw"></i>
          VRM development
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder-open fa-fw"></i>
        
        UniVRM Manual
    </a>
  </li>
  <ul>
    <li class="collapse show" id="endocsunivrm">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/install/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        Install
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrminstall">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrminstallunity_version" href="/en/docs/univrm/install/unity_version/">
          <i class="fas fa-file fa-fw"></i>
          Unity Version
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrminstallunivrm_install" href="/en/docs/univrm/install/univrm_install/">
          <i class="fas fa-file fa-fw"></i>
          Install UniVRM
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrminstallunivrm_upm" href="/en/docs/univrm/install/univrm_upm/">
          <i class="fas fa-file fa-fw"></i>
          Install UniVRM with UPM
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrminstallunivrm_install_samples" href="/en/docs/univrm/install/univrm_install_samples/">
          <i class="fas fa-file fa-fw"></i>
          Install UniVRM Samples
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrminstallunivrm_uninstall" href="/en/docs/univrm/install/univrm_uninstall/">
          <i class="fas fa-file fa-fw"></i>
          Uninstall UniVRM
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrminstallunivrm_version" href="/en/docs/univrm/install/univrm_version/">
          <i class="fas fa-file fa-fw"></i>
          UniVRM Version
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/export/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        Export
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmexport">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmexportunivrm_export" href="/en/docs/univrm/export/univrm_export/">
          <i class="fas fa-file fa-fw"></i>
          VRM Export
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmexportvrm_size" href="/en/docs/univrm/export/vrm_size/">
          <i class="fas fa-file fa-fw"></i>
          VRM Size
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/import/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        Import
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmimport">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmimportunivrm_import" href="/en/docs/univrm/import/univrm_import/">
          <i class="fas fa-file fa-fw"></i>
          VRM Import
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmimportprefab_importer_behaviour" href="/en/docs/univrm/import/prefab_importer_behaviour/">
          <i class="fas fa-file fa-fw"></i>
          Precautions on Prefab Import and Overwrite Issue
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/blendshape/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        BlendShape
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmblendshape">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmblendshapeunivrm_blendshape" href="/en/docs/univrm/blendshape/univrm_blendshape/">
          <i class="fas fa-file fa-fw"></i>
          BlendShape
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmblendshapeblendshape_setup" href="/en/docs/univrm/blendshape/blendshape_setup/">
          <i class="fas fa-file fa-fw"></i>
          BlendShape Setup (v0.45)
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmblendshapeunivrm_bake_blendshape" href="/en/docs/univrm/blendshape/univrm_bake_blendshape/">
          <i class="fas fa-file fa-fw"></i>
          Bake BlendShape State When Exporting
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmblendshapecheck_blendshape_normal" href="/en/docs/univrm/blendshape/check_blendshape_normal/">
          <i class="fas fa-file fa-fw"></i>
          Check BlandShape Normal
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/shaders/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        Material
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmshaders">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmshadersshader_mtoon" href="/en/docs/univrm/shaders/shader_mtoon/">
          <i class="fas fa-file fa-fw"></i>
          MToon setting
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmshadersunivrm_unlit" href="/en/docs/univrm/shaders/univrm_unlit/">
          <i class="fas fa-file fa-fw"></i>
          UniUnlit
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmshadersunivrm_standard" href="/en/docs/univrm/shaders/univrm_standard/">
          <i class="fas fa-file fa-fw"></i>
          Standard
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmshadersunivrm_vrmshaders" href="/en/docs/univrm/shaders/univrm_vrmshaders/">
          <i class="fas fa-file fa-fw"></i>
          VRMShaders Package
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmshaderstexture_import" href="/en/docs/univrm/shaders/texture_import/">
          <i class="fas fa-file fa-fw"></i>
          Texture Import
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/lookat/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        LookAt
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmlookat">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmlookatunivrm_lookat" href="/en/docs/univrm/lookat/univrm_lookat/">
          <i class="fas fa-file fa-fw"></i>
          Eye Control
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmlookatlookat_bone" href="/en/docs/univrm/lookat/lookat_bone/">
          <i class="fas fa-file fa-fw"></i>
          LookAt(Bone)
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmlookatlookat_blendshape" href="/en/docs/univrm/lookat/lookat_blendshape/">
          <i class="fas fa-file fa-fw"></i>
          LookAt(Blendshape)
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmlookatlookat_uv" href="/en/docs/univrm/lookat/lookat_uv/">
          <i class="fas fa-file fa-fw"></i>
          LookAt(UV)
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/springbone/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        SpringBone
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmspringbone">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmspringboneunivrm_secondary" href="/en/docs/univrm/springbone/univrm_secondary/">
          <i class="fas fa-file fa-fw"></i>
          Spring bone
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/humanoid/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        Humanoid
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmhumanoid">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmhumanoidhumanoid_overview" href="/en/docs/univrm/humanoid/humanoid_overview/">
          <i class="fas fa-file fa-fw"></i>
          Humanoid Overview
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmhumanoidbase_model" href="/en/docs/univrm/humanoid/base_model/">
          <i class="fas fa-file fa-fw"></i>
          Create Base VRM Model
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmhumanoidmeshutility_humanoid" href="/en/docs/univrm/humanoid/meshutility_humanoid/">
          <i class="fas fa-file fa-fw"></i>
          Humanoid Component
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/meta/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        Meta
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmmeta">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmmetaunivrm_meta" href="/en/docs/univrm/meta/univrm_meta/">
          <i class="fas fa-file fa-fw"></i>
          Model Information
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/firstperson/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        FirstPerson
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmfirstperson">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmfirstpersonunivrm_firstperson" href="/en/docs/univrm/firstperson/univrm_firstperson/">
          <i class="fas fa-file fa-fw"></i>
          VRMFirstPerson
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/gltf/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder fa-fw"></i>
        
        GLTF
    </a>
  </li>
  <ul>
    <li class="collapse " id="endocsunivrmgltf">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfgltf_about" href="/en/docs/univrm/gltf/gltf_about/">
          <i class="fas fa-file fa-fw"></i>
          What is GLTF?
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfunigltf" href="/en/docs/univrm/gltf/unigltf/">
          <i class="fas fa-file fa-fw"></i>
          UniGLTF
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfglb_import" href="/en/docs/univrm/gltf/glb_import/">
          <i class="fas fa-file fa-fw"></i>
          GLB Import
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfhow_to_create_glb" href="/en/docs/univrm/gltf/how_to_create_glb/">
          <i class="fas fa-file fa-fw"></i>
          GLB Export
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfanimation_exporter" href="/en/docs/univrm/gltf/animation_exporter/">
          <i class="fas fa-file fa-fw"></i>
          Animation
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfmesh_utility" href="/en/docs/univrm/gltf/mesh_utility/">
          <i class="fas fa-file fa-fw"></i>
          Mesh Utility
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmgltfhow_to_impl_extension" href="/en/docs/univrm/gltf/how_to_impl_extension/">
          <i class="fas fa-file fa-fw"></i>
          Implement GLTF Extension
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/univrm/programming/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">
        
        <i class="fas fa-folder-open fa-fw"></i>
        
        Programming
    </a>
  </li>
  <ul>
    <li class="collapse show" id="endocsunivrmprogramming">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmprogrammingunivrm_api_history" href="/en/docs/univrm/programming/univrm_api_history/">
          <i class="fas fa-file fa-fw"></i>
          API change history
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-endocsunivrmprogrammingruntime_import" href="/en/docs/univrm/programming/runtime_import/">
          <i class="fas fa-file fa-fw"></i>
          Runtime Importer
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmprogrammingunivrm_use_blendshape" href="/en/docs/univrm/programming/univrm_use_blendshape/">
          <i class="fas fa-file fa-fw"></i>
          How to Use BlendShapeProxy
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmprogrammingunivrm_coordinate" href="/en/docs/univrm/programming/univrm_coordinate/">
          <i class="fas fa-file fa-fw"></i>
          Coordinate transformations
      </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsunivrmprogrammingunivrm_use_firstperson" href="/en/docs/univrm/programming/univrm_use_firstperson/">
          <i class="fas fa-file fa-fw"></i>
          How to use first-person mode 
      </a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/vrm-c/vrm.dev/edit/master/content/en/docs/univrm/programming/runtime_import.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/vrm-c/vrm.dev/issues/new?title=Runtime%20Importer" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#version-077"><code>Version 0.77~</code></a></li>
    <li><a href="#version-068"><code>Version 0.68~</code></a>
      <ul>
        <li><a href="#api-changes">API Changes</a></li>
        <li><a href="#sample-codes-synchronous-loading">Sample Codes (Synchronous Loading)</a></li>
        <li><a href="#sample-codes-asynchronous-loading">Sample Codes (Asynchronous Loading)</a></li>
      </ul>
    </li>
    <li><a href="#version-044-loadasync-example"><code>Version 0.44~</code> LoadAsync Example</a></li>
    <li><a href="#loadasynctask-example">LoadAsyncTask Example</a></li>
    <li><a href="#related-article">Related-Article</a></li>
    <li><a href="#open-vrm-from-a-file-path">Open VRM from a file path</a></li>
    <li><a href="#open-vrm-asynchronously-from-a-file-path">Open VRM asynchronously from a file path</a></li>
    <li><a href="#open-vrm-from-a-byte-array">Open VRM from a byte array</a></li>
    <li><a href="#open-vrm-asynchronously-from-a-byte-array">Open VRM asynchronously from a byte array</a></li>
    <li><a href="#get-the-information-form-vrm">Get the information form VRM</a></li>
    <li><a href="#get-the-thumbnail-from-v037">Get the thumbnail (From v0.37)</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://vrm.dev/en/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://vrm.dev/en/docs/univrm/">UniVRM Manual</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://vrm.dev/en/docs/univrm/programming/">Programming</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://vrm.dev/en/docs/univrm/programming/runtime_import/">Runtime Importer</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
    <h1>Runtime Importer</h1>
    
<ul class="tags"><li><a href="/en/tags/api">api</a></ul>

    
    <div class="share">
        <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button"
            data-text="Runtime Importer - VRM" data-url="https://vrm.dev/en/docs/univrm/programming/runtime_import/"
            data-show-count="false">Tweet</a>
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        <a href="https://b.hatena.ne.jp/entry/https://vrm.dev/en/docs/univrm/programming/runtime_import/" class="hatena-bookmark-button"
            data-hatena-bookmark-layout="basic-label-counter" data-hatena-bookmark-lang="ja"
            title="このエントリーをはてなブックマークに追加"><img
                src="https://b.st-hatena.com/images/v4/public/entry-button/button-only@2x.png"
                alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
        <script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8"
            async="async"></script>
        <iframe
            src="https://www.facebook.com/plugins/share_button.php?href=https%3a%2f%2fvrm.dev%2fen%2fdocs%2funivrm%2fprogramming%2fruntime_import%2f&layout=button&size=small&mobile_iframe=false&width=68&height=20&appId"
            width="68" height="20" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true"></iframe>
    </div>
    <div class="text-muted mb-2 pt-3">2021-06-25 18:15:46 &#43;0900 &#43;0900
<br>
Last modified June 25, 2021: <a  href="https://github.com/vrm-c/vrm.dev/commit/7555662800c28485f93973d7c5a22af84938aa48">update (7555662)</a>
</div>

    
    <h2 id="version-077"><code>Version 0.77~</code></h2>
<p><a href="https://github.com/vrm-c/UniVRM/issues/1018">DisposeOnGameObjectDestroyed</a></p>
<p><code>ImporterContext</code> API has been modified.</p>
<p>The function <code>ImporterContext.DisposeOnGameObjectDestroyed</code> introduced in <code>Version 0.68</code> has been discarded.<br>
Instead, <code>ImporterContext.Load</code> and <code>RuntimeGltfInstance</code> are used in <code>v0.77</code>.</p>
<p>In addition, <code>ImporterContext</code>'s members have been moved to <code>RuntimeGltfInstance</code>:</p>
<ul>
<li>Root</li>
<li>EnableUpdateWhenOffscreen()</li>
<li>ShowMeshes()</li>
</ul>
<p>To destroy the Importer, use <code>ImporterContext.Dispose</code> after <code>Load</code> is called.<br>
By destroying RuntimeGltfInstance, the resources associated with the RuntimeGltfInstance (Texture, Material, Mesh, etc) will be destroyed.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">UniGLTF</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">UnityEngine</span>;

<span style="color:#069;font-weight:bold">namespace</span> <span style="color:#0cf;font-weight:bold">VRM.Samples</span>
{
    <span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">sealed</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">LoadVrmSample</span> : MonoBehaviour
    {
<span style="color:#309">        [SerializeField]</span> <span style="color:#069;font-weight:bold">private</span> <span style="color:#078;font-weight:bold">string</span> _vrmFilePath;
        <span style="color:#069;font-weight:bold">private</span> GameObject _vrmGameObject;

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> Start()
        {
            _vrmGameObject = LoadVrm(_vrmFilePath);
        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> OnDestroy()
        {
            DestroyVrm(_vrmGameObject);
        }

        <span style="color:#069;font-weight:bold">private</span> GameObject LoadVrm(<span style="color:#078;font-weight:bold">string</span> vrmFilePath)
        {
            <span style="color:#09f;font-style:italic">// 1. Call GltfParser function (it has been separated from ImporterContext)
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    We use GltfParser to obtain JSON information and binary data from the VRM file
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">var</span> parser = <span style="color:#069;font-weight:bold">new</span> GltfParser();
            parser.ParsePath(vrmFilePath);

            <span style="color:#09f;font-style:italic">// 2. Initialize a new VRMImporterContext object and pass `parser` as an argument to it
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    The class for loading VRM is VRMImporterContext
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">using</span> (<span style="color:#078;font-weight:bold">var</span> context = <span style="color:#069;font-weight:bold">new</span> VRMImporterContext(parser))
            {
                <span style="color:#09f;font-style:italic">// 3. Call Load function to create a VRM GameObject
</span><span style="color:#09f;font-style:italic"></span>                RuntimeGltfInstance instance = context.Load(); <span style="color:#09f;font-style:italic">// &lt;- `v0.77`
</span><span style="color:#09f;font-style:italic"></span>                
                <span style="color:#09f;font-style:italic">// For asynchronous loading, use the following line instead:
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">// RuntimeGltfInstance instance = await context.LoadAsync();
</span><span style="color:#09f;font-style:italic"></span>
                <span style="color:#09f;font-style:italic">// 4. Enable UpdateWhenOffscreen
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    https://docs.unity3d.com/2019.4/Documentation/ScriptReference/SkinnedMeshRenderer-updateWhenOffscreen.html
</span><span style="color:#09f;font-style:italic"></span>                instance.EnableUpdateWhenOffscreen(); <span style="color:#09f;font-style:italic">// This function has been moved from ImporterContext to RuntimeGltfInstance in `v0.77`
</span><span style="color:#09f;font-style:italic"></span>
                <span style="color:#09f;font-style:italic">// 5. Display the model
</span><span style="color:#09f;font-style:italic"></span>                instance.ShowMeshes(); <span style="color:#09f;font-style:italic">// This function has been moved from ImporterContext to RuntimeGltfInstance `v0.77`
</span><span style="color:#09f;font-style:italic"></span>
                <span style="color:#09f;font-style:italic">// 6. Return Root GameObject (VRM model)
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    Root GameObject is where VRMMeta component is attached
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">return</span> instance.Root; <span style="color:#09f;font-style:italic">// &lt;- changed from ImporterContext to RuntimeGltfInstance in `v0.77`
</span><span style="color:#09f;font-style:italic"></span>            }
            <span style="color:#09f;font-style:italic">// 7. When using statement ends, UnityEngine.Object resources held by VRMImporterContext are destroyed
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    In step 6, the resources associated with the VRM GameObject will not be destroyed
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    The unused resources included in the glTF file (not used by the VRM GameObject), i.e. unassigned textures, will be destroyed
</span><span style="color:#09f;font-style:italic"></span>        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> DestroyVrm(GameObject vrmGameObject)
        {
            <span style="color:#09f;font-style:italic">// 8. Destroy the generated VRM GameObject
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    If the VRM GameObject is destroyed, the associated unity resources (Texture, Material, Mesh, etc) will also be destroyed
</span><span style="color:#09f;font-style:italic"></span>            UnityEngine.Object.Destroy(vrmGameObject);
        }
    }
}
</code></pre></div><h2 id="version-068"><code>Version 0.68~</code></h2>
<h3 id="api-changes">API Changes</h3>
<p>ImporterContext has been reworked.</p>
<ul>
<li>Loading processing has been divided into two steps: <code>Parse</code> and <code>Load</code>
<ul>
<li><code>Parse</code> processing can be processed by other than the main thread</li>
</ul>
</li>
<li>The implementation of asynchronous loading function <code>ImporterContext.LoadAsync</code> has changed to <code>Task</code></li>
<li>The method of explicitly destroying <code>UnityEngine.Object</code> resources is now available. As such, resource leaks can be prevented</li>
<li>The timing of calling <code>ImporterContext.Dispose</code> has been changed to when the loading process ends
<ul>
<li>Call <code>ImporterContext.DisposeOnGameObjectDestroyed</code> function (described below) before <code>ImporterContext.Dispose</code> function is called</li>
<li>In the previous versions, <code>ImporterContext.Dispose</code> is called when the generated VRM model is destroyed</li>
</ul>
</li>
<li>Added <code>ImporterContext.DisposeOnGameObjectDestroyed</code> function
<ul>
<li>The duty of destroying VRM resources (Texture, Material, Mesh, etc) has been transferred to GameObject</li>
<li>The resources (Texture, Material, Mesh, etc) will be destroyed when VRM&rsquo;s GameObject is destroyed</li>
</ul>
</li>
</ul>
<h3 id="sample-codes-synchronous-loading">Sample Codes (Synchronous Loading)</h3>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">UniGLTF</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">UnityEngine</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">VRM</span>;

<span style="color:#069;font-weight:bold">namespace</span> <span style="color:#0cf;font-weight:bold">YourNameSpace</span>
{
    <span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">sealed</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">LoadVrmSample</span> : MonoBehaviour
    {
<span style="color:#309">        [SerializeField]</span> <span style="color:#069;font-weight:bold">private</span> <span style="color:#078;font-weight:bold">string</span> _vrmFilePath;
        <span style="color:#069;font-weight:bold">private</span> GameObject _vrmGameObject;

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> Start()
        {
            _vrmGameObject = LoadVrm(_vrmFilePath);
        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> OnDestroy()
        {
            DestroyVrm(_vrmGameObject);
        }

        <span style="color:#069;font-weight:bold">private</span> GameObject LoadVrm(<span style="color:#078;font-weight:bold">string</span> vrmFilePath)
        {
            <span style="color:#09f;font-style:italic">// 1. Call GltfParser function (it has been separated from ImporterContext)
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    We use GltfParser to obtain JSON information and binary data from the VRM file
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">var</span> parser = <span style="color:#069;font-weight:bold">new</span> GltfParser();
            parser.ParsePath(vrmFilePath);

            <span style="color:#09f;font-style:italic">// 2. Initialize a new VRMImporterContext object and pass `parser` as an argument to it
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    VRMImporterContext is the class for loading VRM
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">using</span> (<span style="color:#078;font-weight:bold">var</span> context = <span style="color:#069;font-weight:bold">new</span> VRMImporterContext(parser))
            {
                <span style="color:#09f;font-style:italic">// 3. Call Load function to create a VRM GameObject
</span><span style="color:#09f;font-style:italic"></span>                context.Load();

                <span style="color:#09f;font-style:italic">// 4. Enable UpdateWhenOffscreen
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    https://docs.unity3d.com/2019.4/Documentation/ScriptReference/SkinnedMeshRenderer-updateWhenOffscreen.html
</span><span style="color:#09f;font-style:italic"></span>                context.EnableUpdateWhenOffscreen();

                <span style="color:#09f;font-style:italic">// 5. Display the model
</span><span style="color:#09f;font-style:italic"></span>                context.ShowMeshes();

                <span style="color:#09f;font-style:italic">// 6. By calling this function, unity resources such as Texture, Material, Mesh, etc. used by VRM GameObject can be associated
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    In other words, when the VRM GameObject is destroyed, resources (Texture, Material, Mesh, etc) that are actually used by the VRM GameObject can be destroyed
</span><span style="color:#09f;font-style:italic"></span>                context.DisposeOnGameObjectDestroyed();

                <span style="color:#09f;font-style:italic">// 7. Return Root GameObject (VRM model)
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    Root GameObject is where VRMMeta component is attached
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">return</span> context.Root;
            }
            <span style="color:#09f;font-style:italic">// 8. When using statement ends, UnityEngine.Object resources held by VRMImporterContext are destroyed
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    As mentioned in step 6, the resources associated with the VRM GameObject will not be destroyed
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    The unused resources (not used by the VRM GameObject), i.e. unassigned textures, will be destroyed
</span><span style="color:#09f;font-style:italic"></span>        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> DestroyVrm(GameObject vrmGameObject)
        {
            <span style="color:#09f;font-style:italic">// 9. Destroy the generated VRM GameObject
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    If the VRM GameObject is destroyed, the associated unity resources (Texture, Material, Mesh, etc) will be destroyed, too
</span><span style="color:#09f;font-style:italic"></span>            UnityEngine.Object.Destroy(vrmGameObject);
        }
    }
}
</code></pre></div><h3 id="sample-codes-asynchronous-loading">Sample Codes (Asynchronous Loading)</h3>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">System.IO</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">System.Threading.Tasks</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">UniGLTF</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">UnityEngine</span>;
<span style="color:#069;font-weight:bold">using</span> <span style="color:#0cf;font-weight:bold">VRM</span>;

<span style="color:#069;font-weight:bold">namespace</span> <span style="color:#0cf;font-weight:bold">YourNameSpace</span>
{
    <span style="color:#069;font-weight:bold">public</span> <span style="color:#069;font-weight:bold">sealed</span> <span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">LoadVrmAsyncSample</span> : MonoBehaviour
    {
<span style="color:#309">        [SerializeField]</span> <span style="color:#069;font-weight:bold">private</span> <span style="color:#078;font-weight:bold">string</span> _vrmFilePath;
        <span style="color:#069;font-weight:bold">private</span> GameObject _vrmGameObject;

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">async</span> <span style="color:#069;font-weight:bold">void</span> Start()
        {
            _vrmGameObject = <span style="color:#069;font-weight:bold">await</span> LoadVrmAsync(_vrmFilePath);
        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> OnDestroy()
        {
            DestroyVrm(_vrmGameObject);
        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">async</span> Task&lt;GameObject&gt; LoadVrmAsync(<span style="color:#078;font-weight:bold">string</span> vrmFilePath)
        {
            <span style="color:#09f;font-style:italic">// 1. Call GltfParser function (it has been separated from ImporterContext)
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    We use GltfParser to obtain JSON information and binary data from the VRM file
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    GltfParser can be run by other than the Unity&#39;s main thread
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">var</span> parser = <span style="color:#069;font-weight:bold">new</span> GltfParser();
            <span style="color:#069;font-weight:bold">await</span> Task.Run(() =&gt;
            {
                <span style="color:#078;font-weight:bold">var</span> file = File.ReadAllBytes(vrmFilePath);
                parser.ParseGlb(file);
            });

            <span style="color:#09f;font-style:italic">// 2. Initialize a new VRMImporterContext object and pass `parser` as an argument to it
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    VRMImporterContext is the class for loading VRM
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">using</span> (<span style="color:#078;font-weight:bold">var</span> context = <span style="color:#069;font-weight:bold">new</span> VRMImporterContext(parser))
            {
                <span style="color:#09f;font-style:italic">// 3. Call LoadAsync function to create a VRM GameObject
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    For loading process it will take several frames
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">await</span> context.LoadAsync();

                <span style="color:#09f;font-style:italic">// 4. Enable UpdateWhenOffscreen
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    https://docs.unity3d.com/2019.4/Documentation/ScriptReference/SkinnedMeshRenderer-updateWhenOffscreen.html
</span><span style="color:#09f;font-style:italic"></span>                context.EnableUpdateWhenOffscreen();

                <span style="color:#09f;font-style:italic">// 5. Display the model
</span><span style="color:#09f;font-style:italic"></span>                context.ShowMeshes();

                <span style="color:#09f;font-style:italic">// 6. By calling this function, unity resources such as Texture, Material, Mesh, etc. used by VRM GameObject can be associated
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    In other words, when the VRM GameObject is destroyed, resources (Texture, Material, Mesh, etc) that are actually used by the VRM GameObject can be destroyed
</span><span style="color:#09f;font-style:italic"></span>                context.DisposeOnGameObjectDestroyed();

                <span style="color:#09f;font-style:italic">// 7. Return Root GameObject (VRM model)
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#09f;font-style:italic">//    Root GameObject is where VRMMeta component is attached
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#069;font-weight:bold">return</span> context.Root;
            }
            <span style="color:#09f;font-style:italic">// 8. When using statement ends, UnityEngine.Object resources held by VRMImporterContext are destroyed
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    As mentioned in step 6, the resources associated with the VRM GameObject will not be destroyed
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    The unused resources (not used by the VRM GameObject), i.e. unassigned textures, will be destroyed
</span><span style="color:#09f;font-style:italic"></span>        }

        <span style="color:#069;font-weight:bold">private</span> <span style="color:#069;font-weight:bold">void</span> DestroyVrm(GameObject vrmGameObject)
        {
            <span style="color:#09f;font-style:italic">// 9. Destroy the generated VRM GameObject
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#09f;font-style:italic">//    If the VRM GameObject is destroyed, the associated unity resources (Texture, Material, Mesh, etc) will be destroyed, too
</span><span style="color:#09f;font-style:italic"></span>            UnityEngine.Object.Destroy(vrmGameObject);
        }
    }
}
</code></pre></div><h2 id="version-044-loadasync-example"><code>Version 0.44~</code> LoadAsync Example</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#09f;font-style:italic">// Get the byte array
</span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">var</span> bytes = File.ReadAllBytes(path);

<span style="color:#078;font-weight:bold">var</span> context = <span style="color:#069;font-weight:bold">new</span> VRMImporterContext();
context.ParseGlb(bytes);

<span style="color:#09f;font-style:italic">// When meta is needed
</span><span style="color:#09f;font-style:italic"></span><span style="color:#078;font-weight:bold">bool</span> createThumbnail=<span style="color:#069;font-weight:bold">true</span>;
<span style="color:#078;font-weight:bold">var</span> meta = context.ReadMeta(createThumbnail);
<span style="color:#078;font-weight:bold">var</span> thumbnail = meta.Thumbnail;

<span style="color:#09f;font-style:italic">// Construct a model
</span><span style="color:#09f;font-style:italic"></span>context.LoadAsync(_ =&gt;
{
    context.ShowMeshes();
    <span style="color:#078;font-weight:bold">var</span> go = context.Root;
    <span style="color:#09f;font-style:italic">// Load completed
</span><span style="color:#09f;font-style:italic"></span>},
Debug.LogError);
</code></pre></div><h2 id="loadasynctask-example">LoadAsyncTask Example</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#099">#if (NET_4_6 &amp;&amp; UNITY_2017_1_OR_NEWER)
</span><span style="color:#099"></span><span style="color:#069;font-weight:bold">async</span> <span style="color:#069;font-weight:bold">static</span> Task&lt;GameObject&gt; LoadAsync(Byte[] bytes)
{
    <span style="color:#078;font-weight:bold">var</span> context = <span style="color:#069;font-weight:bold">new</span> VRMImporterContext();

    <span style="color:#09f;font-style:italic">// Get JSON in GLB format and parse it
</span><span style="color:#09f;font-style:italic"></span>    context.ParseGlb(bytes);

    <span style="color:#069;font-weight:bold">try</span>
    {
        <span style="color:#09f;font-style:italic">// Convert the parsed JSON to the scene object
</span><span style="color:#09f;font-style:italic"></span>        <span style="color:#069;font-weight:bold">await</span> context.LoadAsyncTask();

        <span style="color:#09f;font-style:italic">// Prevent the model&#39;s surface from being penetrated by
</span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">// the positional relation between the bounding box and the camera
</span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">// SkinnedMeshRenderer.updateWhenOffscreen = true
</span><span style="color:#09f;font-style:italic"></span>        context.EnableUpdateWhenOffscreen();

        <span style="color:#09f;font-style:italic">// If you do not want the program displaying the model&#39;s T-Pose,
</span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">// prepare it before ShowMeshes
</span><span style="color:#09f;font-style:italic"></span>        <span style="color:#09f;font-style:italic">// Display the model when the loading is finished
</span><span style="color:#09f;font-style:italic"></span>        context.ShowMeshes();

        <span style="color:#069;font-weight:bold">return</span> context.Root;
    }
    <span style="color:#069;font-weight:bold">catch</span>(Exception ex)
    {
        Debug.LogError(ex);
        <span style="color:#09f;font-style:italic">// Destroy related resources
</span><span style="color:#09f;font-style:italic"></span>        context.Destroy(<span style="color:#069;font-weight:bold">true</span>);
        <span style="color:#069;font-weight:bold">throw</span>;
    }
}
<span style="color:#099">#endif
</span></code></pre></div><h2 id="related-article">Related-Article</h2>
<p>More details can be found in the link below (written in Japanese):</p>
<ul>
<li><a href="https://qiita.com/sh_akira/items/8155e4b69107c2a7ede6">UniVRMを使ってVRMモデルをランタイムロードする方法</a></li>
</ul>
<p>Examples of importing the VRM model with the latest version <a href="/en/docs/univrm/programming/runtime_import/">can be found here</a>.</p>
<p>The followings are the methods to import a VRM model at runtime in Unity:</p>
<h2 id="open-vrm-from-a-file-path">Open VRM from a file path</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#078;font-weight:bold">var</span> path=<span style="color:#c30">&#34;sample.vrm&#34;</span>;
<span style="color:#078;font-weight:bold">var</span> go=VRM.VRMImporter.LoadFromPath(path);
Debug.LogFormat(<span style="color:#c30">&#34;loaded {0}&#34;</span>, go.name);
</code></pre></div>
<h2 id="open-vrm-asynchronously-from-a-file-path">Open VRM asynchronously from a file path</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#078;font-weight:bold">var</span> path=<span style="color:#c30">&#34;sample.vrm&#34;</span>;
VRMImporter.LoadVrmAsync(path, go =&gt; {
    Debug.LogFormat(<span style="color:#c30">&#34;loaded {0}&#34;</span>, go.name);
});
</code></pre></div>
<h2 id="open-vrm-from-a-byte-array">Open VRM from a byte array</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#078;font-weight:bold">var</span> path=<span style="color:#c30">&#34;sample.vrm&#34;</span>;
<span style="color:#078;font-weight:bold">var</span> bytes = File.ReadAllBytes(path);
<span style="color:#078;font-weight:bold">var</span> go=VRMImporter.LoadFromBytes(bytes);
</code></pre></div>
<h2 id="open-vrm-asynchronously-from-a-byte-array">Open VRM asynchronously from a byte array</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs">VRMImporter.LoadVrmAsync(bytes, go =&gt; {
    Debug.LogFormat(<span style="color:#c30">&#34;loaded {0}&#34;</span>, go.name);
});
</code></pre></div>
<h2 id="get-the-information-form-vrm">Get the information form VRM</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#099">#if UNITY_STANDALONE_WIN
</span><span style="color:#099"></span>            <span style="color:#078;font-weight:bold">var</span> path = FileDialogForWindows.FileDialog(<span style="color:#c30">&#34;open VRM&#34;</span>, <span style="color:#c30">&#34;.vrm&#34;</span>);
<span style="color:#099">#else
</span><span style="color:#099"></span>            <span style="color:#078;font-weight:bold">var</span> path = Application.dataPath + <span style="color:#c30">&#34;/default.vrm&#34;</span>;
<span style="color:#099">#endif
</span><span style="color:#099"></span>            <span style="color:#069;font-weight:bold">if</span> (<span style="color:#078;font-weight:bold">string</span>.IsNullOrEmpty(path))
            {
                <span style="color:#069;font-weight:bold">return</span>;
            }

            <span style="color:#09f;font-style:italic">// Get the byte array
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">var</span> bytes = File.ReadAllBytes(path);

            <span style="color:#078;font-weight:bold">var</span> context = <span style="color:#069;font-weight:bold">new</span> VRMImporterContext();

            <span style="color:#09f;font-style:italic">// Get JSON in GLB format and parse it
</span><span style="color:#09f;font-style:italic"></span>            context.ParseGlb(bytes);

            <span style="color:#09f;font-style:italic">// Get the meta
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">var</span> meta = context.ReadMeta();
            Debug.LogFormat(<span style="color:#c30">&#34;meta: title:{0}&#34;</span>, meta.Title);

            <span style="color:#09f;font-style:italic">// You can access the entire parsed GLTF here
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#078;font-weight:bold">var</span> vrm = context.GLTF;

            <span style="color:#09f;font-style:italic">// Convert the parsed JSON to the Scene Object
</span><span style="color:#09f;font-style:italic"></span>            <span style="color:#069;font-weight:bold">if</span> (m_loadAsync)
            {
                <span style="color:#09f;font-style:italic">// Run asynchronously
</span><span style="color:#09f;font-style:italic"></span>                <span style="color:#078;font-weight:bold">var</span> now = Time.time;
                VRMImporter.LoadVrmAsync(context, go=&gt; {
                    <span style="color:#078;font-weight:bold">var</span> delta = Time.time - now;
                    Debug.LogFormat(<span style="color:#c30">&#34;LoadVrmAsync {0:0.0} seconds&#34;</span>, delta);
                    OnLoaded(go);
                });
            }
            <span style="color:#069;font-weight:bold">else</span>
            {
                <span style="color:#09f;font-style:italic">// Run synchronously
</span><span style="color:#09f;font-style:italic"></span>                VRMImporter.LoadFromBytes(context);
                OnLoaded(context.Root);
            }
</code></pre></div>
<h2 id="get-the-thumbnail-from-v037">Get the thumbnail (From v0.37)</h2>
<p>A thumbnail texture can be created by passing arguments to ReadMeta.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs">    <span style="color:#078;font-weight:bold">var</span> meta = context.ReadMeta(<span style="color:#069;font-weight:bold">true</span>); <span style="color:#09f;font-style:italic">// Make a thumbnail texture
</span><span style="color:#09f;font-style:italic"></span>    Texture2D thumbnail=meta.Thumbnail;
</code></pre></div>


    
    <div class="section-index">
    
    
    
    <hr class="panel-line">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</div>

    <div class="text-muted mt-1 pt-3 border-top">
    </div>
    <img src="/images/vrm/vrm_header.png" alt="VRM - humanoid 3d avatar format for VR">
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/vrm-c">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 VRM Consortium All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="/js/main.min.3f0b17baf1bd0a0469452a412c0b5944fc7f77d4ae2084267de1008e9295dcca.js" integrity="sha256-PwsXuvG9CgRpRSpBLAtZRPx/d9SuIIQmfeEAjpKV3Mo=" crossorigin="anonymous"></script>



  </body>
</html>